---
layout: default
title: jQuery Facets
repository_url: https://github.com/srchulo/jQuery-Facets/
issue_url: https://github.com/srchulo/jQuery-Facets/issues/new
tab: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
---

<h1>jQuery Facets</h1>
<hr />

<h2>Purpose</h2>
<p>Every time I've needed faceted search capabilities, I've had to rewrite the JavaScript to do it. This plugin hopes to do away with that. I tried looking for an existing plugin that did what jQuery Facets does, but surprisingly I couldn't find any that offered the functionality that I wanted. Hopefully others will find this plugin useful too.</p>

<h2>Documentation</h2>
<ul>
	<li><a href="#overview">Overview</a></li>
	<li><a href="#defaults">Defaults</a></li>
	<ul>
		<li><a href="#searchCont">searchCont</a></li>
		<li><a href="#ajaxURL">ajaxURL</a></li>
		<li><a href="#URLParams">URLParams</a></li>
		<li><a href="#ajaxMethod">ajaxMethod</a></li>
		<li><a href="#bindType">bindType</a></li>
		<li><a href="#bindTypes">bindTypes</a></li>
		<li><a href="#excludeBindTypes">exlcudeBindTypes</a></li>
	</ul>
	<li><a href="#manualAjaxCall">Manual Ajax Call</a></li>
	<li><a href="#unclear">Unclear</a></li>
</ul>

<a id="overview"><h3>Overview</h3></a>

<p>
	Below is the proper way to include the plugin on your page:
</p>

<code>
	&lt;script type='text/javascript' src='jquery.deserialize.js'&gt;&lt;&#47;script&gt;
	<br />
	&lt;script type='text/javascript' src='jquery.facets.js'&gt;&lt;&#47;script&gt;
</code>

<p>
	The <a href="https://github.com/kflorence/jquery-deserialize">jQuery Deserialize</a> plugin is necessary if you plan on using the hashtag features of jQuery Facets.
</p>

<p>
	The simplest way to use jQuery Facets is like so:
</p>

<code>
	var facet = $("form#facets").facets();
</code>

<p>
	However, this assumes some defaults which are listed below.
</p>

<a id="defaults"><h3>Defaults</h3></a>

<p>
	Below are all of the options that can be set with jQuery Facets and all of their default values. All defaults can be changed like so:
</p>

<p>
<code>
	$("form#facets").facets({ <br />
		<span class="tab"></span>'name1':'value1', <br />
		<span class="tab"></span>'name2':'value2'<br />
	});<br />
</code>
</p>

<a id="searchCont"><h4>searchCont</h4></a>
<code>
       'searchCont' : '#searchCont'
</code>
<p> 
	This is a selector for the container that will hold the filtered search results after the ajax request.
</p>

<!-- -->
<a id="ajaxURL"><h4>ajaxURL</h4></a>
<code>
       'ajaxURL' : $(location).attr('href')
</code>
<p> 
	URL to make ajax requests to for filtered results. Defaults to current URL of the page.
</p>



<a id="URLParams"><h4>URLParams</h4></a>
<code>
       'URLParams' : new Array()
</code>
<p> 
	Extra params for the ajax url, such as the original search query. Takes array in jQuery's <a href="http://api.jquery.com/serializeArray/">serializeArray()</a> format.
</p>




<a id="ajaxMethod"><h4>ajaxMethod</h4></a>
<code>
       'ajaxMethod' : 'GET'
</code>
<p> 
	The method of the ajax request. Default is GET.
</p>


<a id="bindType"><h4>bindType</h4></a>
<code>
       'bindType' : 'change'
</code>
<p> 
	This is the way to bind to facet elements (i.e. checkboxes). The default is <a href="http://w3schools.com/jsref/event_onchange.asp">onchange</a>. So whenever a element changes (or whichever bind type you select), this is when the ajax request will be made to filter the search results. To select a bindType for individual elements see <a href="#bindTypes">bindTypes</a>. A bindType can be any eventType that jQuery's <a href="http://api.jquery.com/bind/">bind</a> function takes. In hindsight, perhaps I should've just named bindType eventType, but I already have this code in production so I have to stick with the naming scheme now :)
</p>


<a id="bindTypes"><h4>bindTypes</h4></a>
<code>
       'bindTypes' : new Array()
</code>
<p> 
	With <a href="#bindTypes">bindTypes</a> you can specify specific bindTypes for elements matching jQuery selectors. This can be useful if you want your default bindType to be change, but say that you want the bindType for an input of type text to be blur. You can specify that like so:

</p>

<p>
	<code>
		'bindTypes' : [{ <br />
			<span class="tab"></span>'selector' : 'input[type="text"]', <br />
			<span class="tab"></span>'bindType' : 'blur' <br />
		}], <br />
	</code>
</p>

<p>
	<a href="#bindTypes">bindTypes</a> takes in an array of hashes with the keys <em>selector</em> and <em>bindType</em>, where <em>selector</em> specifies the jQuery selector for the elements you want to have the corresponding <em>bindType</em>. 
</p>




<a id="excludeBindTypes"><h4>excludeBindTypes</h4></a>
<code>
       'excludeBindTypes' : new Array()
</code>
<p> 
	<a href="#excludeBindTypes">excludeBindTypes</a> can be used to specify any elements that you would not like to make ajax calls by being bound to an event (i.e. blur, change). To specify which elements should not be bound to any <a href="#bindType">bindType</a>, you simply pass in their jQuery selectors in an array. This can be useful if you have an element for which you would like to <a href="#manualAjaxCall">manually trigger the ajax call</a>. For instance, to exclude all inputs of type text from being bound to a <a href="#bindType">bindType</a>, you simply do the following:
</p>


<p>
	<code>
		'excludeBindTypes' : [<br />
			<span class="tab"></span>'input[type="text"]'<br />
		], <br />
	</code>
</p>


<p>
	Or if you would like to <a href="#manualAjaxCall">manually trigger all ajax calls</a>, you could do so like this:
</p>

<p>
	<code>
		'excludeBindTypes' : [<br />
			<span class="tab"></span>'*'<br />
		], <br />
	</code>
</p>

<p>
	Where '*' would match all elements. However, this is not recommended.
</p>





<a id="preAJAX"><h4>preAJAX</h4></a>
<code>
       'preAJAX' : function () { return true }
</code>
<p> 
	<a href="#preAJAX">preAJAX</a> takes in a function reference and will be called prior to making the ajax request for the filtered data. It must return either true or false (true jQuery Facets will make the ajax request, false it will not). This function is mostly useful if you want to validate the users input for any facets before sending the data server-side. For example, lets say this was a facet in your facets form:

</p>
<p>
	<code>
		&lt;input type="text" name="zip" id="zip" value="" &frasl;&gt;
	</code>
</p>
<p>
	Where you allowed the user to filter search results by zip code. By having a <a href="#preAJAX">preAJAX</a> function defined you could appropriately validate the user's input and then return true if the input is okay, and return false otherwise allowing the user to fix their input.
</p>









<a id="manualAjaxCall"><h3>Manual Ajax Call</h3></a>

<p>
	Blah Blah Blah.
</p>


<a id="unclear"><h3>Unclear</h3></a>
<p>
	If anything is unclear in the documentation or you feel something could be explained better, please let me know! I'm far from the best writer in the world and I'm always open to suggestions :)
</p>
